"use strict";(self.webpackChunkpaldea=self.webpackChunkpaldea||[]).push([[299],{2358:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var n=a(3433),l=a(8182),r=a(4013),s=a(101),i=a(8745),c=a(2791),o=a(4942),d=a(1413),x=a(9439),u=a(6731),m="pokeDexPage";var p=a(6257),g=a(2116),h=a(184),f=function(e){var t=e.pokemon;return(0,h.jsxs)(h.Fragment,{children:[t.abilities.map((function(e){return(0,h.jsx)("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-center text-xs font-semibold text-blue-800",children:e},e)})),t.hiddenAbility&&(0,h.jsx)("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-center text-xs font-semibold text-gray-800",children:[t.hiddenAbility]})]})},y=function(e){var t=e.pokemon;return(0,h.jsx)(h.Fragment,{children:Array(6).fill(0).map((function(e,a){return{key:g.J$[g.xA[String(a)]],val:t.EVs[a]}})).filter((function(e){return e.val>0})).map((function(e){return"".concat(e.key,": ").concat(e.val)})).map((function(e){return(0,h.jsx)("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-center text-xs font-semibold text-blue-800",children:e},e)}))})},j=function(e){var t=e.pokemon,a=e.pokedex;return(0,h.jsxs)(h.Fragment,{children:[t.paldea&&"paldea"!==a&&(0,h.jsxs)("span",{className:"rounded bg-custom-gold/30 px-1.5 py-0.5 text-center text-xs font-semibold text-gray-800",children:["\u5e15\u5e95\u4e9e#",t.paldea.toString().padStart(3,"0")]}),t.kitakami&&"kitakami"!==a&&(0,h.jsxs)("span",{className:"rounded bg-custom-green/30 px-1.5 py-0.5 text-center text-xs font-semibold text-gray-800",children:["\u5317\u4e0a#",t.kitakami.toString().padStart(3,"0")]}),t.blueberry&&"blueberry"!==a&&(0,h.jsxs)("span",{className:"rounded bg-custom-blue/30 px-1.5 py-0.5 text-center text-xs font-semibold text-gray-800",children:["\u85cd\u8393#",t.blueberry.toString().padStart(3,"0")]}),t.pid&&"national"!==a&&(0,h.jsxs)("span",{className:"rounded bg-custom-orange/30 px-1.5 py-0.5 text-center text-xs font-semibold text-gray-800",children:["\u5168\u570b#",t.pid.toString().padStart(3,"0")]})]})};function b(e){var t=e.pokemon,a=e.filter,n=e.display,r=g.Sw.includes(a.pokedex)?(t[a.pokedex]||0).toString().padStart(3,"0"):t.pid.toString().padStart(4,"0");return(0,h.jsxs)("div",{className:(0,l.Z)("mt-8 px-4 pb-0 pt-2 md:mt-20 md:pb-2","flex flex-col gap-y-2","rounded-xl bg-white","shadow-list-items hover:shadow-list-items--hover","hover:translate-x-[-0.2rem] hover:translate-y-[-0.2rem]","relative"),children:[(0,h.jsxs)("header",{className:"relative h-6 md:h-auto",children:[(0,h.jsxs)("span",{className:"hidden whitespace-nowrap md:block",children:["#",r]}),(0,h.jsx)(p.J.lA.JC,{pm:t,className:"absolute bottom-0 md:-right-8"})]}),(0,h.jsx)("hr",{className:"border-0 border-t-[1px] border-[#A29834]"}),(0,h.jsxs)("div",{className:"flex h-full flex-col justify-between gap-y-1",children:[(0,h.jsxs)("div",{className:(0,l.Z)("grid grid-cols-1 md:grid-cols-2"),children:[(0,h.jsxs)("div",{className:"flex flex-col items-center gap-y-1 md:items-start",children:[(0,h.jsxs)("p",{className:"text-center md:text-start",children:[(0,h.jsxs)("span",{className:"block whitespace-nowrap md:hidden",children:["#",r]}),t.nameZh,t.altForm&&(0,h.jsxs)("span",{className:"block text-xs font-thin",children:["(",t.altForm,")"]})]}),(0,h.jsx)("div",{className:"flex gap-x-1",children:t.types.map((function(e){return(0,h.jsx)(p.J.lA.Dy,{type:e},e)}))})]}),(0,h.jsx)("div",{className:"hidden md:block",children:(0,h.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,h.jsx)(f,{pokemon:t})})})]}),(0,h.jsxs)("div",{className:(0,l.Z)("mt-2 flex flex-col gap-2",n.EVs||n.ability||n.pid?"block":"hidden"),children:[n.ability&&(0,h.jsx)("p",{className:"flex flex-col flex-wrap justify-center gap-2 whitespace-nowrap md:flex-row md:justify-start",children:(0,h.jsx)(f,{pokemon:t})}),n.EVs&&(0,h.jsx)("p",{className:"flex flex-col flex-wrap justify-center gap-2 whitespace-nowrap md:flex-row md:justify-start",children:(0,h.jsx)(y,{pokemon:t})}),n.pid&&(0,h.jsx)("p",{className:"flex flex-col flex-wrap justify-center gap-2 whitespace-nowrap md:flex-row md:justify-start",children:(0,h.jsx)(j,{pokemon:t,pokedex:a.pokedex})})]})]}),(0,h.jsx)(u.rU,{className:"stretchedLink",to:"/pokedex/".concat(t.nameZh).concat(t.altForm?"-"+t.altForm:"")})]})}function v(e){var t=e.value,a=e.onChange,n=e.display,s=e.toggleDisplay,i=e.hasFilter;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"relative my-2 w-full",children:[(0,h.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,h.jsx)(p.J.ol,{className:"h-5 w-5"})}),(0,h.jsx)("input",{type:"search",className:(0,l.Z)("block w-full rounded-full border border-gray-300","bg-gray-50 p-2 pl-10 text-sm text-gray-900","search"),placeholder:"\u641c\u5c0b \u540d\u7a31(\u4e2d/\u82f1/\u65e5), \u6a23\u5b50",value:t,onChange:function(e){a(e.target.value)}}),(0,h.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:[(0,h.jsx)(S,{checked:n.advancedFilter,toggleState:s("advancedFilter")}),i&&(0,h.jsx)("div",{className:"relative -top-3 right-6",children:(0,h.jsx)(r.z$,{})})]})]})})}var N=window.screen.width<768?1:5;function k(e){var t=e.currentPage,a=e.totalPages,n=e.updateNumberState;return(0,h.jsx)("nav",{children:(0,h.jsxs)("ul",{className:"inline-flex -space-x-px text-sm",children:[(0,h.jsx)("li",{children:(0,h.jsx)("button",{onClick:function(){return n("page",(function(e){return Math.max(1,e-1)}))},className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","rounded-l-lg border border-gray-300","bg-white px-3 leading-tight text-gray-500","hover:bg-gray-100 hover:text-gray-700",1===t&&"cursor-not-allowed"),children:"\u524d\u4e00\u9801"})}),t>N&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)("button",{onClick:function(){return n("page",(function(){return 1}))},className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","border border-gray-300","bg-white px-3 leading-tight text-gray-500","hover:bg-gray-100 hover:text-gray-700"),children:"1"})}),(0,h.jsx)("li",{className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","border border-gray-300","bg-white px-3 leading-tight text-gray-500"),children:"..."})]}),new Array(a).fill(0).map((function(e,t){return t+1})).filter((function(e){return Math.abs(e-t)<N})).map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)("button",{onClick:function(){return n("page",(function(){return e}))},className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","border border-gray-300","px-3 leading-tight","hover:bg-gray-100 hover:text-gray-700",e===t?"bg-gray-100 text-gray-700":"bg-white text-gray-500"),children:e})},e)})),a-t>=N&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","border border-gray-300","bg-white px-3 leading-tight text-gray-500"),children:"..."}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{onClick:function(){return n("page",(function(){return a}))},className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","border border-gray-300","bg-white px-3 leading-tight text-gray-500","hover:bg-gray-100 hover:text-gray-700"),children:a})})]}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{onClick:function(){n("page",(function(e){return Math.min(a,e+1)}))},className:(0,l.Z)("ml-0 flex h-8 items-center justify-center","rounded-r-lg border border-gray-300","bg-white px-3 leading-tight text-gray-500","hover:bg-gray-100 hover:text-gray-700",t===a&&"cursor-not-allowed"),children:"\u5f8c\u4e00\u9801"})})]})})}function w(e){var t=e.currentPage,a=e.totalPages,n=e.updateNumberState,r=e.length;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:function(){return n("page",(function(e){return Math.max(1,e-1)}))},children:(0,h.jsx)(p.J.xh,{className:(0,l.Z)(1===t?"fill-gray-400":"fill-white")})}),(0,h.jsxs)("p",{children:["\u7b2c",t,"\u9801\uff0c\u5171",a,"\u9801 \uff5c ",r,"\u7a2e\u7b26\u5408"]}),(0,h.jsx)("button",{onClick:function(){return n("page",(function(e){return Math.min(a,e+1)}))},children:(0,h.jsx)(p.J.ZJ,{className:(0,l.Z)(t===a?"fill-gray-400":"fill-white")})})]})}function S(e){var t=e.checked,a=e.toggleState;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"checkbox",name:"filter",id:"filter",className:"hidden",checked:t,onChange:function(e){a(e.target.checked)}}),(0,h.jsx)("label",{htmlFor:"filter",className:"flex cursor-pointer flex-col items-center",children:(0,h.jsx)(p.J.wn,{className:"h-6 w-6"})})]})}function Z(e){var t=e.list,a=e.currVal,n=e.updateState;return(0,h.jsx)("div",{className:"flex flex-wrap gap-4",children:t.map((function(e){return(0,h.jsx)("button",{className:(0,l.Z)("rounded-xl px-2 py-1","whitespace-nowrap shadow-list-items","string"===typeof a?a===e.val?"bg-secondary":"bg-secondary/40":a.has(e.val)?"bg-secondary":"bg-secondary/40"),onClick:function(){n(e.val)},children:e.name},e.name)}))})}var C=a(4165),E=a(5861);function F(e){var t=e.filter,a=e.abilities,n=e.updateState,s=e.updateSetState,i=e.display,c=e.toggleDisplay,o=s("types"),d=n("ability"),x=n("onlyEvolution"),u=[t.ability,t.EV,t.region].filter(Boolean).length>0,m=[{value:t.ability,name:"\u7279\u6027",key:"ability"},{value:g.J$[t.EV]||"",name:"\u52aa\u529b\u503c",key:"EV"},{value:t.region,name:"\u5340\u57df",key:"region"}],f=function(){var e=(0,E.Z)((0,C.Z)().mark((function e(){var a;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:"".concat(t.pokedex," pokedex"),text:"".concat(document.title,"\n"),url:document.location.href},e.prev=1,e.next=4,navigator.share(a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("header",{children:[(0,h.jsxs)("div",{className:"flex flex-col justify-between gap-x-2 md:flex-row md:items-center",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("div",{className:(0,l.Z)("rounded-xl p-2","bg-custom-red","hidden md:block"),children:(0,h.jsx)(p.J.VN,{className:"h-5 w-5 fill-current"})}),(0,h.jsxs)("h2",{className:"flex items-center gap-x-1 text-xl",children:["\u5716\u9451\u6e05\u55ae","share"in navigator&&(0,h.jsx)(p.J.mB,{className:"h-6 w-6",onClick:f})]})]}),(0,h.jsx)("div",{className:"flex w-full items-center gap-x-3 md:w-96",children:(0,h.jsx)(v,{value:t.keyword,onChange:n("keyword"),display:i,toggleDisplay:c,hasFilter:u})})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,h.jsx)(r.c$,{title:"\u5716\u9451\u4f86\u6e90"}),(0,h.jsx)(Z,{list:[{name:"\u5168\u570b",val:"national"},{name:"\u5e15\u5e95\u4e9e",val:"paldea"},{name:"\u5317\u4e0a",val:"kitakami"},{name:"\u85cd\u8393",val:"blueberry"},{name:"\u6d17\u7fe0",val:"hisui"},{name:"\u4f3d\u52d2\u723e",val:"galar"},{name:"\u93a7\u5cf6",val:"armor"},{name:"\u738b\u51a0\u96ea\u539f",val:"crown"},{name:"HOME / \u6d3b\u52d5 / \u9ede\u5fc3",val:"home"}],currVal:t.pokedex,updateState:n("pokedex")}),(0,h.jsxs)("div",{className:"flex gap-x-2",children:[(0,h.jsx)(r.ZD,{text:"\u986f\u793a\u5176\u9918\u5716\u9451\u7de8\u865f",checked:i.pid,handleChange:c("pid")}),(0,h.jsx)(r.ZD,{text:"\u50c5\u986f\u793a\u9032\u5316\u578b",checked:"yes"===t.onlyEvolution,handleChange:function(e){return x(e?"yes":"")}})]}),(0,h.jsx)(r.c$,{title:"\u5c6c\u6027"}),(0,h.jsx)("div",{className:"flex w-full flex-wrap justify-items-center gap-x-4 gap-y-3 pl-2",children:Object.keys(g.oY).map((function(e){return(0,h.jsx)("button",{onClick:function(){return o(e)},children:(0,h.jsx)(p.J.lA.Dy,{type:e,className:(0,l.Z)("h-8 w-8",t.types.size>0&&!t.types.has(e)&&"opacity-30")})},e)}))}),(0,h.jsx)(r.c$,{title:"\u6a19\u7c64(\u8907\u9078\uff0c\u4ea4\u96c6)"}),(0,h.jsx)(Z,{list:[{name:"\u50b3\u8aaa\u8207\u5e7b\u7378",val:"\u50b3\u8aaa\u8207\u5e7b\u7378"},{name:"\u6096\u8b2c\u5bf6\u53ef\u5922",val:"\u6096\u8b2c\u5bf6\u53ef\u5922"},{name:"\u51c6\u50b3\u8aaa\u7684\u5bf6\u53ef\u5922",val:"\u51c6\u50b3\u8aaa\u7684\u5bf6\u53ef\u5922"},{name:"\u6731\u7248\u9650\u5b9a",val:"\u6731\u7248\u9650\u5b9a"},{name:"\u7d2b\u7248\u9650\u5b9a",val:"\u7d2b\u7248\u9650\u5b9a"}],currVal:t.tags,updateState:s("tags")})]}),(0,h.jsxs)("div",{className:(0,l.Z)("mt-4 flex-col gap-2",i.advancedFilter?"flex":"hidden"),children:[(0,h.jsx)(r.Fl,{title:"\u9032\u968e\u641c\u5c0b"}),(0,h.jsx)(r.c$,{title:"\u7279\u6027"}),(0,h.jsx)("div",{className:"block md:hidden",children:(0,h.jsx)(r.ZD,{text:"\u986f\u793a\u7279\u6027",checked:i.ability,handleChange:c("ability")})}),(0,h.jsxs)("div",{className:"relative mb-2 w-60",children:[(0,h.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,h.jsx)(p.J.ol,{className:"h-5 w-5"})}),(0,h.jsx)("input",{type:"search",className:(0,l.Z)("block w-full rounded-lg border border-gray-300","bg-gray-50 p-2 pl-10 text-sm text-gray-900"),placeholder:"\u641c\u5c0b\u7279\u6027",value:t.ability,onChange:function(e){d(e.target.value)}})]}),(0,h.jsx)(Z,{list:a.filter((function(e){return e.split("").some((function(e){return t.ability.includes(e)}))})).map((function(e){return{name:e,val:e}})),currVal:t.ability,updateState:d}),(0,h.jsx)(r.c$,{title:"\u52aa\u529b\u503c"}),(0,h.jsx)("span",{className:"text-sm",children:"(\u7be9\u9078\u55ae\u7368\u53ea\u6709\u9019\u6b64\u9805\u7684\u6e05\u55ae)"}),(0,h.jsx)("div",{children:(0,h.jsx)(r.ZD,{text:"\u986f\u793a\u52aa\u529b\u503c",checked:i.EVs,handleChange:c("EVs")})}),(0,h.jsx)(Z,{list:[{name:"HP",val:"HP"},{name:"\u653b\u64ca",val:"Atk"},{name:"\u9632\u79a6",val:"Def"},{name:"\u7279\u653b",val:"SpA"},{name:"\u7279\u9632",val:"SpD"},{name:"\u901f\u5ea6",val:"Spe"}],currVal:t.EV,updateState:n("EV")}),(0,h.jsx)(r.c$,{title:"\u5730\u5340"}),(0,h.jsx)(Z,{list:[{name:"\u95dc\u90fd",val:"\u95dc\u90fd"},{name:"\u57ce\u90fd",val:"\u57ce\u90fd"},{name:"\u8c50\u7de3",val:"\u8c50\u7de3"},{name:"\u795e\u5967",val:"\u795e\u5967"},{name:"\u5408\u773e",val:"\u5408\u773e"},{name:"\u5361\u6d1b\u65af",val:"\u5361\u6d1b\u65af"},{name:"\u963f\u7f85\u62c9",val:"\u963f\u7f85\u62c9"},{name:"\u4f3d\u52d2\u723e",val:"\u4f3d\u52d2\u723e"},{name:"\u6d17\u7fe0",val:"\u6d17\u7fe0"},{name:"\u5e15\u5e95\u4e9e",val:"\u5e15\u5e95\u4e9e"}],currVal:t.region,updateState:n("region")})]}),(0,h.jsxs)("div",{className:(0,l.Z)("flex-col gap-2",!1===i.advancedFilter&&u?"flex":"hidden"),children:[(0,h.jsx)(r.c$,{title:"\u9032\u968e\u7be9\u9078\u9805\u76ee\uff1a"}),(0,h.jsx)("div",{className:"flex flex-wrap gap-4",children:m.filter((function(e){return""!==e.value})).map((function(e){var t=e.value,a=e.name,r=e.key;return(0,h.jsxs)("span",{className:(0,l.Z)("flex items-center gap-x-2","rounded-xl bg-amber-100 px-2 py-1 shadow-list-items"),children:[a,"\uff1a",t,(0,h.jsx)(p.J.x8,{className:"h-3 w-3 cursor-pointer",onClick:function(){n(r)("")}})]},r)}))})]})]})}var J=function(){var e=function(){var e=(0,u.lr)(),t=(0,x.Z)(e,2),a=t[0],l=t[1],r=(0,c.useState)({advancedFilter:!1,EVs:!1,ability:!1,pid:!1}),s=(0,x.Z)(r,2),p=s[0],g=s[1],h=(0,i.JT)(m),f={keyword:a.get("keyword")||"",pokedex:a.get("pokedex")||"national",page:Number(a.get("page")||1),types:new Set((a.get("types")||"").split("-").filter(Boolean)),ability:a.get("ability")||"",EV:a.get("EV")||"",region:a.get("region")||"",tags:new Set((a.get("tags")||"").split("-").filter(Boolean)),onlyEvolution:a.get("onlyEvolution")||""};return(0,c.useEffect)((function(){var e={};a.forEach((function(t,a){e[a]=t})),Object.keys(e).length>0&&localStorage.setItem(m,JSON.stringify(e))}),[a]),{filter:f,updateState:function(e){return function(t){l(""===t?function(t){return t.delete(e),delete h[e],localStorage.setItem(m,JSON.stringify(h)),t}:function(a){return a.has(e)&&a.get(e)===t?(a.delete(e),delete h[e]):(a.set(e,t),h[e]=t),a.delete("page"),delete h.page,localStorage.setItem(m,JSON.stringify(h)),a})}},updateNumberState:function(e,t){l((function(a){var n=a.get(e)||"1",l=t(Number(n));return a.set(e,String(l)),a}))},updateSetState:function(e){return function(t){l((function(a){var l=new Set((a.get(e)||"").split("-").filter(Boolean));return l.has(t)?l.delete(t):l.add(t),0===l.size?(a.delete(e),delete h[e]):(a.set(e,(0,n.Z)(l).join("-")),h[e]=(0,n.Z)(l).join("-")),a.delete("page"),delete h.page,localStorage.setItem(m,JSON.stringify(h)),a}))}},display:p,toggleDisplay:function(e){return function(t){g((function(a){return(0,d.Z)((0,d.Z)({},a),{},(0,o.Z)({},e,t))}))}}}}(),t=e.filter,a=e.updateState,p=e.updateNumberState,g=e.updateSetState,f=e.display,y=e.toggleDisplay,j=(0,s.C3)().pokemonList;if((0,c.useEffect)((function(){document.title="".concat(t.pokedex," Pok\xe9dex")}),[t.pokedex]),0===j.length)return(0,h.jsx)(r.gb,{});var v=(0,n.Z)(new Set(j.map((function(e){return e.abilities.concat([e.hiddenAbility||""])})).flat().filter(Boolean))).sort();j=(0,i.M$)(j,t);var N=Math.ceil(j.length/30),S=30*(t.page-1),Z=j.slice(S,S+30);return(0,h.jsxs)("div",{className:"mb-4 flex flex-col gap-y-4",children:[(0,h.jsx)(F,{filter:t,abilities:v,updateState:a,updateSetState:g,display:f,toggleDisplay:y}),(0,h.jsx)(r.Hr,{}),(0,h.jsx)("p",{className:(0,l.Z)(j.length>0&&"hidden"),children:"\u67e5\u7121\u7b26\u5408\u9805\u76ee\uff0c\u8acb\u8abf\u6574\u641c\u5c0b\u9805\u76ee\u3002"}),j.length>0&&(0,h.jsx)("div",{className:"grid grid-cols-list-mobile justify-around gap-4 pt-4 pb-8 md:grid-cols-list",children:Z.map((function(e){return(0,h.jsx)(b,{pokemon:e,filter:t,display:f},e.link)}))}),(0,h.jsx)("footer",{className:"hidden justify-end md:flex",children:(0,h.jsx)(k,{currentPage:t.page,totalPages:N,updateNumberState:p})}),(0,h.jsx)("footer",{className:(0,l.Z)("fixed bottom-0 left-0 right-0 flex h-12 items-center justify-between","bg-primary/60 px-4 text-white md:hidden"),children:(0,h.jsx)(w,{currentPage:t.page,totalPages:N,updateNumberState:p,length:j.length})})]})}}}]);
//# sourceMappingURL=Pokedex.dc6b0179.chunk.js.map